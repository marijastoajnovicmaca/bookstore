<app-header></app-header>

<!-- Section: Design Block -->
<section class="text-center">
 
  
    <div class="card mx-4 mx-md-5 shadow-5-strong" style="
          margin-top: 100px;
          background: hsla(34, 80%, 86%, 0.8);
          backdrop-filter: blur(30px);
          ">
      <div class="card-body py-5 px-md-5">
          <div class="row d-flex justify-content-center">
            <div class="col-lg-8">
              <h2 class="fw-bold mb-5">Registracija</h2>
              <form (ngSubmit)="registerUser()" #signupForm="ngForm">
                <!-- 2 column grid layout with text inputs for the first and last names -->
                <div class="row">
                  <!--Name -->
                  <div class="col-md-6 mb-4">
                    <div class="form-outline">
                      <input type="text" id="name" class="form-control" name="firstname"  [(ngModel)]="userProfile.name" required pattern="[A-Za-z\s]+$"/>
                      <label class="form-label" for="name">Ime</label>
                    </div>
                  </div>
                  <!--Last name -->
                  <div class="col-md-6 mb-4">
                    <div class="form-outline">
                      <input type="text" id="surname" class="form-control" name="lastname"  [(ngModel)]="userProfile.surname" required pattern="[A-Za-z\s]+$"/>
                      <label class="form-label" for="surname">Prezime</label>
                    </div>
                  </div>
                </div>
                
                <div class="row">
                  <!--Adrress -->
                  <div class="col-md-6 mb-4">
                    <div class="form-outline">
                      <input type="text" id="adresa" class="form-control" name="adrress" [(ngModel)]="userProfile.address" required/>
                      <label class="form-label" for="adresa">Adresa</label>
                    </div>
                  </div>
                  <!--Phone -->
                  <div class="col-md-6 mb-4">
                    <div class="form-outline">
                      <input type="number" id="phone" class="form-control" name="phonenumber" [(ngModel)]="userProfile.phone" pattern="^[0-9]{9,}$" required/>
                      <label class="form-label" for="phone">Broj telefona</label>
                    </div>
                  </div>
                </div>
    
                <!-- Email input -->
                <div class="form-outline mb-4">
                  <input type="email" id="email" class="form-control" name="emailadrress"  [(ngModel)]="userProfile.email" required pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}" placeholder="example@servic.com"/>
                  <label class="form-label" for="email">Email adresa</label>
                </div>
    
                <div class="expanded-input">
                  <mat-form-field appearance="fill" class="flex-input">
                    <mat-label>Šifra</mat-label>
                    <input matInput [type]="showPassword ? 'text' : 'password'" name="password"  [(ngModel)]="userProfile.password" required pattern="(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$" placeholder="najmanje 8 karaktera, jedno veliko slovo, jedan specijalan karakter i jedan broj">
                    <mat-icon matSuffix (click)="togglePasswordVisibility()">
                      {{showPassword?'visibility_off':'visibility'}}
                    </mat-icon>
                  </mat-form-field>
                  <br>
                </div>

                <!-- Selecting genres -->
                <div class="mat-chip-list-centered">
                  <h2>Izaberite omiljene žanrove:</h2>
                  <mat-chip-listbox name="genre" [(ngModel)]="selectedValues" multiple required>
                    <mat-chip-option
                      *ngFor="let option of uniqueGenres"
                      [value]="option"
                      >
                      {{option}}
                    </mat-chip-option>
                  </mat-chip-listbox>
                </div>

                <!-- Submit button -->
                <button type="submit" class="btn btn-primary btn-block mb-4" [disabled]="signupForm.invalid">
                  Registuj se
                </button>
              </form>
  
            <div class="d-flex justify-content-around align-items-center mb-4">
                <a routerLink="/login">Već imaš nalog? Prijavi se</a>
            </div>

          </div>
        </div>
      </div>
    </div>
  </section>
  <!-- Section: Design Block -->
